peptide_length = c(8,9,10,11,12,13)
peptide_length
paste(peptide_length)
paste(peptide_length, collapse = ",")
paste("./../lib_int/netMHCpan-3.0/netMHCpan -l ",paste(peptide_length, collapse = ",") ," -f ",
paste(input_file,job_ID, pep,"fasta",sep="."), " -a HLA-",
gsub("\\*","",hla_type), " > ", input_file, ".", job_ID, ".HLACLASS1.", COUNT, ".", pep,
".txt", sep="")
c(8,9,10,11,12,13)
peptide_length = c(8,9,10,11,12,13)
max_peptide_length = max(peptide_length)
max_peptide_length
HLA_file<-"./../../lib_sample/hla_table2.txt"
hla<-t(sapply(scan(HLA_file, "character", sep="\n"), function(x) strsplit(x, "\t")[[1]]))
hla
hla_types<-hla[match(file_name_in_HLA_table, hla[,1]),-1]
hla
hla
hla<-t(sapply(scan(HLA_file, "character", sep="\n"), function(x) strsplit(x, "\t")[[1]]))
as.character(hla)
hla<-as.character(hla)[-1]
hla
hla_types<-hla
hla_type<-hla[9]
hla_type
length(grep("DRB1", hla_type))==1
gsub("\*|\:",",hla_type)
gsub("\\*|\\:","",hla_type)
paste("./../lib_int/netMHCpan-3.0/netMHCpan",
"-length ", paste(peptide_length, collapse = ","),
"-f ", paste(input_file,job_ID, pep,"fasta",sep="."),
"-a ", gsub("\\*|\\:","",hla_type),
" > ", input_file, ".", job_ID, ".HLACLASS2.", COUNT, ".", pep, ".txt",
sep="")
grep("DPB1", hla_types)
hla_types[grep("DPB1", hla_types)]
